(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7681:(e,t,r)=>{Promise.resolve().then(r.bind(r,7951))},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...s,width:l,height:l,stroke:r,strokeWidth:i?24*Number(o)/Number(l):o,className:n("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:i,...c}=r;return(0,a.createElement)(o,{ref:s,iconNode:t,className:n("lucide-".concat(l(e)),i),...c})});return r.displayName="".concat(e),r}},4857:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},7951:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),l=r(2115),n=r(6046),s=r(7401);let o=(0,s.A)("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),i=(0,s.A)("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),c=(0,s.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var d=r(4857);function u(){let e=(0,l.useRef)(null),[t,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)({name:"brush",size:2,color:"#000000"}),[u,h]=(0,l.useState)([]),[p,m]=(0,l.useState)(-1);(0,l.useEffect)(()=>{let t=e.current;if(!t)return;let r=t.getContext("2d");r&&(r.fillStyle="#ffffff",r.fillRect(0,0,t.width,t.height),h([r.getImageData(0,0,t.width,t.height)]),m(0))},[]);let g=t=>{r(!0);let a=e.current;if(!a)return;let l=a.getContext("2d");if(!l)return;let n=a.getBoundingClientRect(),s="touches"in t?t.touches[0].clientX-n.left:t.clientX-n.left,o="touches"in t?t.touches[0].clientY-n.top:t.clientY-n.top;l.beginPath(),l.moveTo(s,o)},x=r=>{if(!t)return;let a=e.current;if(!a)return;let l=a.getContext("2d");if(!l)return;let s=a.getBoundingClientRect(),o="touches"in r?r.touches[0].clientX-s.left:r.clientX-s.left,i="touches"in r?r.touches[0].clientY-s.top:r.clientY-s.top;l.lineTo(o,i),l.strokeStyle="eraser"===n.name?"#ffffff":n.color,l.lineWidth=n.size,l.lineCap="round",l.lineJoin="round",l.stroke()},f=()=>{if(!t)return;let a=e.current;if(!a)return;let l=a.getContext("2d");if(!l)return;l.closePath(),r(!1);let n=l.getImageData(0,0,a.width,a.height);h([...u.slice(0,p+1),n]),m(p+1)};return(0,a.jsxs)("div",{className:"flex flex-col bg-white rounded-lg shadow-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4 p-2 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>s({...n,name:"brush"}),className:"p-2 rounded ".concat("brush"===n.name?"bg-purple-100 text-purple-600":"text-gray-600"),children:(0,a.jsx)(o,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>s({...n,name:"eraser"}),className:"p-2 rounded ".concat("eraser"===n.name?"bg-purple-100 text-purple-600":"text-gray-600"),children:(0,a.jsx)(i,{className:"w-5 h-5"})}),(0,a.jsx)("input",{type:"color",value:n.color,onChange:e=>s({...n,color:e.target.value}),className:"w-8 h-8 rounded cursor-pointer"}),(0,a.jsxs)("select",{value:n.size,onChange:e=>s({...n,size:Number(e.target.value)}),className:"p-1 border rounded",children:[(0,a.jsx)("option",{value:"2",children:"Small"}),(0,a.jsx)("option",{value:"5",children:"Medium"}),(0,a.jsx)("option",{value:"10",children:"Large"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{if(p<=0)return;let t=e.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let a=p-1;r.putImageData(u[a],0,0),m(a)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",children:(0,a.jsx)(c,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{let t=e.current;if(!t)return;let r=t.getContext("2d");r&&(r.fillStyle="#ffffff",r.fillRect(0,0,t.width,t.height),h([...u,r.getImageData(0,0,t.width,t.height)]),m(p+1))},className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded",children:"Clear"}),(0,a.jsx)("button",{onClick:()=>{let t=e.current;if(!t)return;let r=t.toDataURL("image/png"),a=document.createElement("a");a.download="website-sketch.png",a.href=r,a.click()},className:"p-2 text-gray-600 hover:bg-gray-100 rounded",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("canvas",{ref:e,width:800,height:600,className:"border border-gray-200 rounded-lg touch-none",onMouseDown:g,onMouseMove:x,onMouseUp:f,onMouseLeave:f,onTouchStart:g,onTouchMove:x,onTouchEnd:f}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Draw your website layout here. Use the toolbar to:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-2",children:[(0,a.jsx)("li",{children:"Switch between pen and eraser"}),(0,a.jsx)("li",{children:"Change colors and brush size"}),(0,a.jsx)("li",{children:"Undo actions or clear the canvas"}),(0,a.jsx)("li",{children:"Download your sketch"})]})]})]})}function h(){let[e,t]=(0,l.useState)("text"),[r,s]=(0,l.useState)(""),[o,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),h=(0,n.useRouter)(),p=async e=>{e.preventDefault(),i(!0),d(null);try{let e=await fetch("/api/generate-template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:r})});if(!e.ok)throw Error("Failed to generate template");let t=await e.json();localStorage.setItem("generatedTemplate",JSON.stringify(t)),h.push("/preview")}catch(e){d(e instanceof Error?e.message:"Failed to generate template")}finally{i(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Create Your Website Template"}),(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsxs)("div",{className:"inline-flex bg-white rounded-lg shadow p-1",children:[(0,a.jsx)("button",{onClick:()=>t("text"),className:"px-6 py-2 rounded-md transition-colors ".concat("text"===e?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"),children:"Describe in Text"}),(0,a.jsx)("button",{onClick:()=>t("draw"),className:"px-6 py-2 rounded-md transition-colors ".concat("draw"===e?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"),children:"Draw Layout"})]})}),(0,a.jsx)("div",{className:"mt-6",children:"text"===e?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Description"}),(0,a.jsx)("textarea",{id:"description",rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Describe your website template here... (e.g., 'I want a modern landing page with a hero section, feature grid, and contact form')",value:r,onChange:e=>s(e.target.value)})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors ".concat(o?"opacity-50 cursor-not-allowed":""),children:o?"Generating...":"Generate Template"})})]}),c&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-50 text-red-600 rounded-lg",children:c})]}):(0,a.jsx)(u,{})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,898,358],()=>t(7681)),_N_E=e.O()}]);